<!DOCTYPE html>
<!--
	Forty by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>Mobbex</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<!--[if lte IE 8]><script src="http://localhost:4000/assets/js/ie/html5shiv.js"></script><![endif]-->
	<link rel="stylesheet" href="http://localhost:4000/assets/css/main.css" />
	<!--[if lte IE 9]><link rel="stylesheet" href="http://localhost:4000/assets/css/ie9.css" /><![endif]-->
	<!--[if lte IE 8]><link rel="stylesheet" href="http://localhost:4000/assets/css/ie8.css" /><![endif]-->

	<!-- Syntax Highlighting -->
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/obsidian.min.css">
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
</head>


<body>

    <!-- Wrapper -->
<div id="wrapper">

<!-- Header -->
<header id="header">
	<a href="http://localhost:4000/" class="logo"><strong>Mobbex</strong> <span>Developer Site</span></a>
	<nav>
		<a href="#menu">Menu</a>
	</nav>
</header>

<!-- Menu -->
<nav id="menu">
	<ul class="links">
        
		    
		
		    
		        <li><a href="http://localhost:4000/">Inicio</a></li>
	    	
		
		    
		
		    
		
		    
		
		
		    
		        <li><a href="http://localhost:4000/homologacion.html">Homologación</a></li>
		    
		
		    
		
		    
		        <li><a href="http://localhost:4000/statuses.html">Datos de Transacción</a></li>
		    
		
		    
		        <li><a href="http://localhost:4000/testcards.html">Tarjetas de Prueba</a></li>
		    
		
		    
		        <li><a href="http://localhost:4000/webhooks.html">Webhooks</a></li>
		    
		
	</ul>
	<ul class="actions vertical">
		<!--<li><a href="#" class="button special fit">Get Started</a></li>-->
		<li><a href="https://mobbex.com/console" target="_blank" class="button fit">Ingresar</a></li>
	</ul>
</nav> 
    
    
<!-- Main -->
<div id="main" class="alt">

<!-- One -->
<section id="one">
	<div class="inner">
		<header class="major">
			<h1>WebCheckout</h1>
		</header>
		
		<p><p>Para crear un checkout es necesario poseer un API Key y un Access Token. Para obtenerlos se deben seguir los siguientes pasos</p>

<p>1) Ingresar a https://mobbex.com/console<br />
2) Dirigirse desde el menú superior a “Desarrollador”<br />
3) Crear una nueva aplicación o utilizar una existente<br />
4) Obtener el acceso a una Entidad mediante la opción “Solicitar Acceso” o utilizar un acceso ya concedido mostrado en el listado de “Entidades Autorizadas”<br /></p>

<p>Habiendo obtenido ambos keys se puede proceder a generar la solicitud para crear un Checkout. Algunos ejemplos a continuación.</p>

<h4 id="cabeceras-headers">Cabeceras (Headers)</h4>
<ul>
  <li><strong><em>x-api-key</em></strong>: Clave API de su aplicación<br /></li>
  <li><strong><em>x-access-token</em></strong>: Token de Acceso a la entidad para la cual desea realizar la operación.<br /></li>
</ul>

<h4 id="parametros-post-params">Parametros (POST Params)</h4>

<p><strong>Requeridos</strong><br /></p>
<ul>
  <li><strong><em>total</em></strong> (Número: XXX.xx) Monto de la operación. Formato XXX.xx donde el <strong><em>PUNTO</em></strong> es el separador decimal.<br /></li>
  <li><strong><em>description</em></strong> (Texto hasta 255 caracteres) Descripción de la operación que será mostrada en el Checkout.<br /></li>
  <li><strong><em>return_url</em></strong> (FQDN) URL para retornar una vez finalizada la operación o si el usuario desea cancelar la misma.<br /></li>
  <li><strong><em>reference</em></strong> (Texto) Es una referencia que no será mostrada pero que le será útil para reconocer la operación en su sistema.<br /></li>
</ul>

<p><strong>Opcionales</strong><br /></p>
<ul>
  <li><strong><em>webhook</em></strong> (FQDN compatible con POST) URL que será invocada por Mobbex al finalizar la operación mediante <strong>POST</strong> y que recibirá todos los detalles sobre la operación procesada. El Webhook será invocado antes de realizarse la redirección. Tenga en cuenta que la URL utilizada debe ser capaz de recibir una llamada de Tipo POST de lo contrario Mobbex no será capaz de informarle sobre la misma.<br /></li>
  <li><strong><em>redirect</em></strong> (Boolean: true/false) permite la redirección automática al checkout al terminar la ejecución del POST sin intervención del usuario. (Por defecto es falso y siempre retorna la URL )<br /></li>
</ul>

<p><strong>CURL</strong></p>
<pre><code class="bash">
curl --request POST \
  --url https://mobbex.com/p/checkout/create \
  --header 'cache-control: no-cache' \
  --header 'content-type: multipart/form-data; \
  --header 'x-api-key: zJ8LFTBX6Ba8D611e9io13fDZAwj0QmKO1Hn1yIj' \
  --header 'x-access-token: d31f0721-2f85-44e7-bcc6-15e19d1a53cc' \
  --form total=100 \
  --form 'reference=#MyImportantID' \
  --form 'description=Some Description' \
  --form return_url=https://mobbex.com/finished
</code></pre>

<p><strong>Javascript</strong></p>
<pre><code>
var data = new FormData();
data.append("total", "100");
data.append("reference", "#MyImportantID");
data.append("description", "Some Description");
data.append("return_url", "https://mobbex.com/finished");
var xhr = new XMLHttpRequest();
xhr.withCredentials = true;
xhr.addEventListener("readystatechange", function () {
  if (this.readyState === 4) {
    console.log(this.responseText);
  }
});
xhr.open("POST", "https://mobbex.com/p/checkout/create");
xhr.setRequestHeader("x-api-key", "zJ8LFTBX6Ba8D611e9io13fDZAwj0QmKO1Hn1yIj");
xhr.setRequestHeader("x-access-token", "d31f0721-2f85-44e7-bcc6-15e19d1a53cc");
xhr.setRequestHeader("cache-control", "no-cache");
xhr.send(data);
</code></pre>

<p><strong>PHP</strong></p>
<pre><code>
&lt;?php  
$request = new HttpRequest();
$request-&gt;setUrl('https://mobbex.com/p/checkout/create');
$request-&gt;setMethod(HTTP_METH_POST);  
$request-&gt;setHeaders(array(
  'postman-token' =&gt; '4533ef25-f802-5fcc-cc03-8cc45e14d3c6',
  'cache-control' =&gt; 'no-cache',
  'content-type' =&gt; 'application/x-www-form-urlencoded',
  'x-access-token' =&gt; 'd31f0721-2f85-44e7-bcc6-15e19d1a53cc',
  'x-api-key' =&gt; 'zJ8LFTBX6Ba8D611e9io13fDZAwj0QmKO1Hn1yIj'
));  
$request-&gt;setContentType('application/x-www-form-urlencoded');
$request-&gt;setPostFields(array(
  'total' =&gt; '100',
  'reference' =&gt; '#MyImportantID',
  'description' =&gt; 'Some Description',
  'return_url' =&gt; 'https://mobbex.com/finished'
));  
try {
  $response = $request-&gt;send();    
  echo $response-&gt;getBody();
} catch (HttpException $ex) {
  echo $ex;
}
</code></pre>

<h4 id="respuesta">Respuesta:</h4>

<p>Tenga en cuenta que las respuestas del servicio siempre serán en formato JSON. El servicio sólo contestará si <strong>redirect</strong> no fue utilizado o si el mismo se colocó en “false”</p>

<p><strong>JSON</strong></p>
<pre><code>
{
  "result": true,
  "data": {
    "id": "rytPr_gSe",
    "url": "https://mobbex.com/p/checkout/view/rytPr_gSe",
    "description": "Some Description",
    "total": 100
  }
}
</code></pre>

<p><strong>Importante</strong><br />
Si no se provee el parámetro “redirect” como true, como desarrollador deberá redireccionar el sitio web a la url proporcionada en la respuesta de nuestro servicio. Si Redirect es “true” será redireccionado automáticamente.</p>

<h4 id="transacción-finalizadacancelada">Transacción finalizada/cancelada</h4>

<p>Si se define el parámetro <code class="highlighter-rouge">return_url</code> el servicio redireccionará a la URL provista mediante HTTP Get, a esta url se le agregará el Estado de la misma mediante el parámetro <code class="highlighter-rouge">status</code> y el tipo de transacción generada por el usuario mediante el parámetro <code class="highlighter-rouge">type</code> (cash/card).</p>

<p>Ejemplo:
<code class="highlighter-rouge">https://mobbex.com/thank_you?status=200&amp;type=cash</code></p>

<p><strong>Casos especiales</strong><br />
Si el usuario cancela la operación <code class="highlighter-rouge">status</code> será <code class="highlighter-rouge">0</code> y <code class="highlighter-rouge">type</code> será <code class="highlighter-rouge">none</code>. Esto como se señala indica que el usuario no finalizó la operación y decidió volver al sitio.</p>

<p>Ejemplo:
<code class="highlighter-rouge">https://mobbex.com/thank_you?status=0&amp;type=none</code></p>

<p>Referencia de los Estados posibles: <a href="http://localhost:4000/statuses">Estados y Tipos de Transacción</a>. Es <strong><em>muy importante</em></strong> revisar la documentación sobre estados y tipos de documentación ya que el manejo de los mismos será utilizado durante la homologación del comercio.</p>
</p>
	</div>
</section>

</div>

    <!-- Contact -->
<!--<section id="contact">
	<div class="inner">
		<section>
			<form action="https://formspree.io/info@mobbex.com" method="POST">
				<div class="field half first">
					<label for="name">Name</label>
					<input type="text" name="name" id="name" />
				</div>
				<div class="field half">
					<label for="email">Email</label>
					<input type="text" name="_replyto" id="email" />
				</div>
				<div class="field">
					<label for="message">Message</label>
					<textarea name="message" id="message" rows="6"></textarea>
				</div>
				<ul class="actions">
					<li><input type="submit" value="Send Message" class="special" /></li>
					<li><input type="reset" value="Clear" /></li>
				</ul>
			</form>
		</section>
		<section class="split">
			<section>
				<div class="contact-method">
					<span class="icon alt fa-envelope"></span>
					<h3>Email</h3>
					<a href="#">info@mobbex.com</a>
				</div>
			</section>
			<section>
				<div class="contact-method">
					<span class="icon alt fa-phone"></span>
					<h3>Phone</h3>
					<span></span>
				</div>
			</section>
			<section>
				<div class="contact-method">
					<span class="icon alt fa-home"></span>
					<h3>Address</h3>
					<span><br />
					,  <br />
					</span>
				</div>
			</section>
		</section>
	</div>
</section>-->

<!-- Footer -->
	<footer id="footer">
		<div class="inner">
			<ul class="icons">
				
				<li><a href="https://twitter.com/mobbex" class="icon alt fa-twitter" target="_blank"><span class="label">Twitter</span></a></li>
				
				
				<li><a href="https://facebook.com/mobbex" class="icon alt fa-facebook" target="_blank"><span class="label">Facebook</span></a></li>
				
				
				<li><a href="https://github.com/mobbexco" class="icon alt fa-github" target="_blank"><span class="label">GitHub</span></a></li>
				
			</ul>
			<ul class="copyright">
				<li>&copy; Mobbex Developer Site</li>
				<li><a href="https://mobbex.freshdesk.com" target="_blank">Soporte Mobbex</a></li>
				<li><a href="mailto:support@mobbex.com" target="_blank">support@mobbex.com</a></li>
			</ul>
		</div>
	</footer>

</div>

<!-- Scripts -->
	<script src="http://localhost:4000/assets/js/jquery.min.js"></script>
	<script src="http://localhost:4000/assets/js/jquery.scrolly.min.js"></script>
	<script src="http://localhost:4000/assets/js/jquery.scrollex.min.js"></script>
	<script src="http://localhost:4000/assets/js/skel.min.js"></script>
	<script src="http://localhost:4000/assets/js/util.js"></script>
	<!--[if lte IE 8]><script src="http://localhost:4000/assets/js/ie/respond.min.js"></script><![endif]-->
	<script src="http://localhost:4000/assets/js/main.js"></script>


</body>

</html>