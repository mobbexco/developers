---
layout: post
title: Mobbex.JS
description: Implementa nuestra libreria y consume nuestro servicio de manera avanzada.
image: null
---

<a name="Mobbex"></a>

## Mobbex
**Kind**: global class  

* [Mobbex](#Mobbex)
    * [new Mobbex()](#new_Mobbex_new)
    * [.init(api_key, lang)](#Mobbex+init)
    * [.setLanguage(lang)](#Mobbex+setLanguage)
    * [.getLanguage()](#Mobbex+getLanguage) ⇒
    * [.httpPost(url, data)](#Mobbex+httpPost) ⇒
    * [.httpGet(url, query)](#Mobbex+httpGet) ⇒
    * [.setEntity(id)](#Mobbex+setEntity)
    * [.setEntityKey(entity_key)](#Mobbex+setEntityKey)
    * [.setAccessToken(access_token)](#Mobbex+setAccessToken)
    * [.setSession(token)](#Mobbex+setSession)
    * [.clearSession()](#Mobbex+clearSession)
    * [.getSources()](#Mobbex+getSources) ⇒
    * [.getInstallmentsBySource(source_id)](#Mobbex+getInstallmentsBySource) ⇒
    * [.tokenize(user, source)](#Mobbex+tokenize) ⇒
    * [.processTransaction(total, token, utid, installment, extras)](#Mobbex+processTransaction) ⇒
    * [.transaction(type, data)](#Mobbex+transaction) ⇒
    * [.detectSource(source_number)](#Mobbex+detectSource) ⇒
    * [.calculate(total, source, installment)](#Mobbex+calculate) ⇒

<a name="new_Mobbex_new"></a>

### new Mobbex()
***Important***  
Mobbex Class Can't be instantiated directly.    

Use: ```window.Mobbex```

<a name="Mobbex+init"></a>

### mobbex.init(api_key, lang)
Iniliaze the Library. The API-Key is required in order to make calls

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  

| Param | Type | Description |
| --- | --- | --- |
| api_key | <code>string</code> | Provided API-Key |
| lang | <code>string</code> | Optional |

<a name="Mobbex+setLanguage"></a>

### mobbex.setLanguage(lang)
Set the language for responses

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  

| Param | Type | Description |
| --- | --- | --- |
| lang | <code>any</code> | en/es |

<a name="Mobbex+getLanguage"></a>

### mobbex.getLanguage() ⇒
Get the current language

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  
**Returns**: String Current language  
<a name="Mobbex+httpPost"></a>

### mobbex.httpPost(url, data) ⇒
Make an HTTP Post call with the required headers

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  
**Returns**: Promise  

| Param | Type | Description |
| --- | --- | --- |
| url | <code>string</code> | Relative or absolute url to Mobbex |
| data | <code>object</code> | Data to be sent |

<a name="Mobbex+httpGet"></a>

### mobbex.httpGet(url, query) ⇒
Makes an HTTP Get call with the required headers

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  
**Returns**: Promise  

| Param | Type | Description |
| --- | --- | --- |
| url | <code>string</code> | Relative or absolute url to Mobbex |
| query | <code>object</code> | Query parameters |

<a name="Mobbex+setEntity"></a>

### mobbex.setEntity(id)
Sets the Entity

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  

| Param | Type | Description |
| --- | --- | --- |
| id | <code>String</code> | Entity ID |

<a name="Mobbex+setEntityKey"></a>

### mobbex.setEntityKey(entity_key)
Set the entity key. If you are using Mobbex 2.0 Entity Key is Required instead of setEntity

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  

| Param | Type |
| --- | --- |
| entity_key | <code>string</code> | 

<a name="Mobbex+setAccessToken"></a>

### mobbex.setAccessToken(access_token)
Set the Access Token obtained for an Entity.

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  

| Param | Type |
| --- | --- |
| access_token | <code>string</code> | 

<a name="Mobbex+setSession"></a>

### mobbex.setSession(token)
Set the session token

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  

| Param | Type |
| --- | --- |
| token | <code>string</code> | 

<a name="Mobbex+clearSession"></a>

### mobbex.clearSession()
Remove the session

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  
<a name="Mobbex+getSources"></a>

### mobbex.getSources() ⇒
Get Entity Sources

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  
**Returns**: Promise  
<a name="Mobbex+getInstallmentsBySource"></a>

### mobbex.getInstallmentsBySource(source_id) ⇒
Returns all the Installments available for the Source

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  
**Returns**: Promise  

| Param | Type | Description |
| --- | --- | --- |
| source_id | <code>String</code> | Source ID |

<a name="Mobbex+tokenize"></a>

### mobbex.tokenize(user, source) ⇒
Generates a Token based on a User and a Source

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  
**Returns**: Promise  

| Param | Type | Description |
| --- | --- | --- |
| user | <code>Object</code> | User Data   ***Requires***   - name: Full name   - Email: User Email (Must be Valid)   - Identification: Valid ID for the User   - Phone: Valid Phone number |
| source | <code>Object</code> | Source Data   ***Requires***   - id: Source ID   - number: Source number ( Only for Cards )   - month: Expiration Month ( Only for Cards )   - year: Expiration Year ( Only for Cards )   - cvv: Security Code ( Only for Cards ) |

<a name="Mobbex+processTransaction"></a>

### mobbex.processTransaction(total, token, utid, installment, extras) ⇒
Process the transaction based on the Token

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  
**Returns**: Promise  

| Param | Type | Description |
| --- | --- | --- |
| total | <code>Number</code> | Amount of the Transaction |
| token | <code>String</code> | Generated Token |
| utid | <code>String</code> | Unique Transaction ID: ID to identify Transaction and prevent duplicates |
| installment | <code>String</code> | ***Optional*** Installment ID if required |
| extras | <code>Object</code> | ***Optional*** Additional parameters |

<a name="Mobbex+transaction"></a>

### mobbex.transaction(type, data) ⇒
Process a Transaction based on the Type. Most common is Payment

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  
**Returns**: Promise  

| Param | Type | Description |
| --- | --- | --- |
| type | <code>String</code> | Transaction type |
| data | <code>Object</code> | Transaction parameters |

<a name="Mobbex+detectSource"></a>

### mobbex.detectSource(source_number) ⇒
Detects a Source based on the Source Number.  
This method is useful to detect cards

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  
**Returns**: Promise  

| Param | Type | Description |
| --- | --- | --- |
| source_number | <code>String</code> | Source Number |

<a name="Mobbex+calculate"></a>

### mobbex.calculate(total, source, installment) ⇒
Given a Total, Source and Installment calculates the charges of the Transaction

**Kind**: instance method of <code>[Mobbex](#Mobbex)</code>  
**Returns**: Promise  

| Param | Type | Description |
| --- | --- | --- |
| total | <code>Number</code> | Total of the Transaction |
| source | <code>String</code> | Source ID |
| installment | <code>String</code> | Installment ID |